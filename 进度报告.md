# 进度报告（当前快照）

## 概览
- 已在 v3 加载的模块：logic, ui_control, list_processing, data_processing, label, set_color, image_and_mask, canvas（含 XIS_Canvas / XIS_CanvasMaskProcessor），image_preview, resize_image_or_mask, sampling, image_puzzle, shape_data, psd_layer_extract, adjust_image, llm.orchestrator_v3。
- 待迁移 A 级模块：无（A级节点已全部迁移完成）。
- 待迁移 S 级模块：curve_editor, coordinate_path, reorder_images, shape_and_text, multi_point_gradient, image_manager.node。
- 顶层入口已切换到 v3-only，legacy 映射不再加载；前端沿用 Vue/传统双界面。

## 最新进展
- 完成 XIS_Canvas 与 XIS_CanvasMaskProcessor 的 v3 + Vue 适配，画布事件与尺寸调整问题已修复。
- 完成 resize_image_or_mask 模块的 v3 迁移，参数重命名为 scale_width/scale_height，修复了 Alpha 通道处理逻辑。
- 完成 sampling 模块的 v3 迁移，包含 XIS_DynamicKSamplerV3 和 XIS_LatentBlendNodeV3 节点。
- 完成 image_puzzle 模块的 v3 迁移，支持四种图像拼接布局。
- 完成 shape_data 模块的 v3 迁移，支持形状数据聚合与列表填充。
- ✅ 完成 psd_layer_extract 模块的 v3 迁移，支持 PSD 文件上传和图层提取。
- ✅ 完成 adjust_image 模块的 v3 迁移，修复前端 JS 错误（imagesContainer 变量未定义）。
- ✅ 完成 llm.orchestrator_v3 模块的 v3 迁移，支持多LLM提供商和图像输入。
- 文档整合为三份：项目计划、技术指导、进度报告，去除重复计划与清单。
- 聚合层仅加载已迁移模块，未迁移的 S 级模块保持禁用。

## 近期计划
- A1：✅ 已完成 resize_image_or_mask 和 sampling 模块的 v3 迁移，阶段 A1 完成。
- A2：✅ 已完成 image_puzzle、shape_data、psd_layer_extract、adjust_image 模块的 v3 迁移，阶段 A2 完成。
- S 阶段：开始迁移 curve_editor、coordinate_path 等重前端节点，制定专用测试用例。

## 风险与关注点
- 前端交互节点的 Vue 兼容性仍需逐一回归；多节点全局 wheel 捕获需注意销毁监听。
- v3 API 版本更新可能带来类型变更，需定期对齐 `comfy_api.latest`。
- 未迁移模块暂不加载，若有用户依赖需提前告知或提供 legacy 兜底方案。 
