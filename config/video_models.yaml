# VGM Orchestrator ç»Ÿä¸€é…ç½®æ–‡ä»¶
# ç‰ˆæœ¬: 1.0.0
# æè¿°: è§†é¢‘ç”Ÿæˆæ¨¡å‹ç»Ÿä¸€é…ç½®ï¼Œå‰åç«¯å…±äº«

# å…¨å±€é…ç½®
global:
  # APIç«¯ç‚¹æ¨¡æ¿ï¼ˆæ”¯æŒåœ°åŒºå˜é‡ï¼‰
  endpoint_templates:
    china: "https://dashscope.aliyuncs.com/api/v1/services/aigc/video-generation/video-synthesis"
    singapore: "https://dashscope-intl.aliyuncs.com/api/v1/services/aigc/video-generation/video-synthesis"
    virginia: "https://dashscope-us.aliyuncs.com/api/v1/services/aigc/video-generation/video-synthesis"

  # é¦–å°¾å¸§æ¨¡å‹ä¸“ç”¨ç«¯ç‚¹
  kf2v_endpoint_templates:
    china: "https://dashscope.aliyuncs.com/api/v1/services/aigc/image2video/video-synthesis"
    singapore: "https://dashscope-intl.aliyuncs.com/api/v1/services/aigc/image2video/video-synthesis"
    virginia: "https://dashscope-us.aliyuncs.com/api/v1/services/aigc/image2video/video-synthesis"

  # é»˜è®¤é…ç½®
  defaults:
    max_negative_prompt_length: 500
    seed_range: [0, 2147483647]
    polling_interval_range: [1, 60]
    max_polling_time_range: [30, 1800]

# æ¨¡å‹é…ç½®
models:
  # ==================== å‚è€ƒç”Ÿè§†é¢‘æ¨¡å‹ (r2v) ====================
  wan2.6-r2v:
    # åŸºæœ¬ä¿¡æ¯
    name: "wan2.6-r2v"
    label: "ä¸‡ç›¸2.6å‚è€ƒç”Ÿè§†é¢‘"
    provider_type: "r2v"
    group: "alibaba"

    # APIé…ç½®
    endpoint: "{{china}}"  # ä½¿ç”¨æ¨¡æ¿å˜é‡

    # è¾“å…¥é™åˆ¶
    max_prompt_length: 1500
    max_reference_videos: 3

    # è¾“å‡ºé…ç½®
    supported_durations: [5, 10]
    supported_sizes:
      - "1280*720"
      - "720*1280"
      - "960*960"
      - "1088*832"
      - "832*1088"
      - "1920*1080"
      - "1080*1920"
      - "1440*1440"
      - "1632*1248"
      - "1248*1632"

    # åŠŸèƒ½æ”¯æŒ
    supports_audio: false
    supports_multi_shot: true
    supports_prompt_extend: false
    supports_template: false

    # å‰ç«¯æ§ä»¶é…ç½®
    ui:
      has_image_input: false
      has_video_url_input: true
      has_resolution: false
      has_audio: false
      has_prompt_extend: false
      has_template: false
      has_shot_type: true
      has_size: true
      supported_regions: ["china", "singapore", "virginia"]
      default_region: "china"
      default_size: "1280*720"
      default_duration: 5
      default_shot_type: "multi"
      default_watermark: false
      default_seed: 42

  # ==================== å›¾ç”Ÿè§†é¢‘æ¨¡å‹ (i2v) ====================
  wan2.6-i2v:
    name: "wan2.6-i2v"
    label: "ä¸‡ç›¸2.6å›¾ç”Ÿè§†é¢‘"
    provider_type: "i2v"
    group: "alibaba"
    endpoint: "{{china}}"
    max_prompt_length: 1500
    max_reference_videos: 0
    supported_durations: [5, 10, 15]
    supported_sizes: []  # å›¾ç”Ÿè§†é¢‘ä½¿ç”¨resolutionå‚æ•°
    supported_resolutions: ["720P", "1080P"]
    supports_audio: true
    supports_multi_shot: true
    supports_prompt_extend: true
    supports_template: true
    ui:
      has_image_input: true
      has_video_url_input: false
      has_resolution: true
      has_audio: true
      has_prompt_extend: true
      has_template: true
      has_shot_type: true
      has_size: false
      supported_regions: ["china", "singapore", "virginia"]
      default_region: "china"
      default_resolution: "720P"
      default_duration: 5
      default_shot_type: "multi"
      default_prompt_extend: true
      default_watermark: false
      default_seed: 42

  wan2.5-i2v-preview:
    name: "wan2.5-i2v-preview"
    label: "ä¸‡ç›¸2.5å›¾ç”Ÿè§†é¢‘é¢„è§ˆç‰ˆ"
    provider_type: "i2v"
    group: "alibaba"
    endpoint: "{{china}}"
    max_prompt_length: 1500
    max_reference_videos: 0
    supported_durations: [5, 10]
    supported_sizes: []
    supported_resolutions: ["480P", "720P", "1080P"]
    supports_audio: true
    supports_multi_shot: false
    supports_prompt_extend: true
    supports_template: false
    ui:
      has_image_input: true
      has_video_url_input: false
      has_resolution: true
      has_audio: true
      has_prompt_extend: true
      has_template: false
      has_shot_type: false
      has_size: false
      supported_regions: ["china", "singapore", "virginia"]
      default_region: "china"
      default_resolution: "720P"
      default_duration: 5
      default_prompt_extend: true
      default_watermark: false
      default_seed: 42

  wan2.2-i2v-flash:
    name: "wan2.2-i2v-flash"
    label: "ä¸‡ç›¸2.2å›¾ç”Ÿè§†é¢‘æé€Ÿç‰ˆ"
    provider_type: "i2v"
    group: "alibaba"
    endpoint: "{{china}}"
    max_prompt_length: 800  # 2.2åŠä»¥ä¸‹ç‰ˆæœ¬é™åˆ¶800å­—ç¬¦
    max_reference_videos: 0
    supported_durations: [5]
    supported_sizes: []
    supported_resolutions: ["480P", "720P", "1080P"]
    supports_audio: false
    supports_multi_shot: false
    supports_prompt_extend: true
    supports_template: false
    ui:
      has_image_input: true
      has_video_url_input: false
      has_resolution: true
      has_audio: false
      has_prompt_extend: true
      has_template: false
      has_shot_type: false
      has_size: false
      supported_regions: ["china", "singapore", "virginia"]
      default_region: "china"
      default_resolution: "720P"
      default_duration: 5
      default_prompt_extend: true
      default_watermark: false
      default_seed: 42

  wan2.2-i2v-plus:
    name: "wan2.2-i2v-plus"
    label: "ä¸‡ç›¸2.2å›¾ç”Ÿè§†é¢‘ä¸“ä¸šç‰ˆ"
    provider_type: "i2v"
    group: "alibaba"
    endpoint: "{{china}}"
    max_prompt_length: 800
    max_reference_videos: 0
    supported_durations: [5]
    supported_sizes: []
    supported_resolutions: ["480P", "1080P"]
    supports_audio: false
    supports_multi_shot: false
    supports_prompt_extend: true
    supports_template: false
    ui:
      has_image_input: true
      has_video_url_input: false
      has_resolution: true
      has_audio: false
      has_prompt_extend: true
      has_template: false
      has_shot_type: false
      has_size: false
      supported_regions: ["china", "singapore", "virginia"]
      default_region: "china"
      default_resolution: "720P"
      default_duration: 5
      default_prompt_extend: true
      default_watermark: false
      default_seed: 42

  wanx2.1-i2v-plus:
    name: "wanx2.1-i2v-plus"
    label: "ä¸‡ç›¸2.1å›¾ç”Ÿè§†é¢‘ä¸“ä¸šç‰ˆ"
    provider_type: "i2v"
    group: "alibaba"
    endpoint: "{{china}}"
    max_prompt_length: 800
    max_reference_videos: 0
    supported_durations: [5]
    supported_sizes: []
    supported_resolutions: ["720P"]
    supports_audio: false
    supports_multi_shot: false
    supports_prompt_extend: true
    supports_template: true
    ui:
      has_image_input: true
      has_video_url_input: false
      has_resolution: true
      has_audio: false
      has_prompt_extend: true
      has_template: true
      has_shot_type: false
      has_size: false
      supported_regions: ["china", "singapore", "virginia"]
      default_region: "china"
      default_resolution: "720P"
      default_duration: 5
      default_prompt_extend: true
      default_watermark: false
      default_seed: 42

  wanx2.1-i2v-turbo:
    name: "wanx2.1-i2v-turbo"
    label: "ä¸‡ç›¸2.1å›¾ç”Ÿè§†é¢‘æé€Ÿç‰ˆ"
    provider_type: "i2v"
    group: "alibaba"
    endpoint: "{{china}}"
    max_prompt_length: 800
    max_reference_videos: 0
    supported_durations: [3, 4, 5]
    supported_sizes: []
    supported_resolutions: ["480P", "720P"]
    supports_audio: false
    supports_multi_shot: false
    supports_prompt_extend: true
    supports_template: true
    ui:
      has_image_input: true
      has_video_url_input: false
      has_resolution: true
      has_audio: false
      has_prompt_extend: true
      has_template: true
      has_shot_type: false
      has_size: false
      supported_regions: ["china", "singapore", "virginia"]
      default_region: "china"
      default_resolution: "720P"
      default_duration: 5
      default_prompt_extend: true
      default_watermark: false
      default_seed: 42

  # ==================== é¦–å°¾å¸§ç”Ÿè§†é¢‘æ¨¡å‹ (kf2v) ====================
  wan2.2-kf2v-flash:
    name: "wan2.2-kf2v-flash"
    label: "ä¸‡ç›¸2.2é¦–å°¾å¸§ç”Ÿè§†é¢‘æé€Ÿç‰ˆ"
    provider_type: "kf2v"
    group: "alibaba"
    endpoint: "{{kf2v_china}}"  # ä½¿ç”¨é¦–å°¾å¸§ä¸“ç”¨ç«¯ç‚¹
    max_prompt_length: 800
    max_reference_videos: 0
    supported_durations: [5]
    supported_sizes: []
    supported_resolutions: ["480P", "720P", "1080P"]
    supports_audio: false
    supports_multi_shot: false
    supports_prompt_extend: true
    supports_template: true
    requires_first_frame: true
    requires_last_frame: false  # å°¾å¸§å¯é€‰
    ui:
      has_image_input: true
      has_video_url_input: false
      has_resolution: true
      has_audio: false
      has_prompt_extend: true
      has_template: true
      has_shot_type: false
      has_size: false
      supported_regions: ["china", "singapore"]  # é¦–å°¾å¸§ä¸æ”¯æŒvirginia
      default_region: "china"
      default_resolution: "720P"
      default_duration: 5
      default_prompt_extend: true
      default_watermark: false
      default_seed: 42

  wanx2.1-kf2v-plus:
    name: "wanx2.1-kf2v-plus"
    label: "ä¸‡ç›¸2.1é¦–å°¾å¸§ç”Ÿè§†é¢‘ä¸“ä¸šç‰ˆ"
    provider_type: "kf2v"
    group: "alibaba"
    endpoint: "{{kf2v_china}}"
    max_prompt_length: 800
    max_reference_videos: 0
    supported_durations: [5]
    supported_sizes: []
    supported_resolutions: ["720P"]
    supports_audio: false
    supports_multi_shot: false
    supports_prompt_extend: true
    supports_template: true
    requires_first_frame: true
    requires_last_frame: false
    ui:
      has_image_input: true
      has_video_url_input: false
      has_resolution: true
      has_audio: false
      has_prompt_extend: true
      has_template: true
      has_shot_type: false
      has_size: false
      supported_regions: ["china", "singapore"]
      default_region: "china"
      default_resolution: "720P"
      default_duration: 5
      default_prompt_extend: true
      default_watermark: false
      default_seed: 42

# æ¨¡å‹åˆ†ç»„ï¼ˆç”¨äºUIä¸‹æ‹‰æ¡†ï¼‰
groups:
  alibaba:
    name: "é˜¿é‡Œäº‘ä¸‡ç›¸"
    description: "é˜¿é‡Œäº‘é€šä¹‰ä¸‡ç›¸è§†é¢‘ç”Ÿæˆæ¨¡å‹"
    models:
      - "wan2.6-r2v"
      - "wan2.6-i2v"
      - "wan2.5-i2v-preview"
      - "wan2.2-i2v-flash"
      - "wan2.2-i2v-plus"
      - "wanx2.1-i2v-plus"
      - "wanx2.1-i2v-turbo"
      - "wan2.2-kf2v-flash"
      - "wanx2.1-kf2v-plus"

# æä¾›è€…ç±»å‹å®šä¹‰
provider_types:
  r2v:
    name: "å‚è€ƒç”Ÿè§†é¢‘"
    description: "åŸºäºå‚è€ƒè§†é¢‘ç”Ÿæˆæ–°è§†é¢‘ï¼Œä¿ç•™è§’è‰²å½¢è±¡å’ŒéŸ³è‰²"
    icon: "ğŸ¬"
    color: "#1890ff"
  i2v:
    name: "å›¾ç”Ÿè§†é¢‘"
    description: "åŸºäºé¦–å¸§å›¾åƒç”Ÿæˆè§†é¢‘ï¼Œæ”¯æŒéŸ³é¢‘è¾“å…¥å’Œæ™ºèƒ½æ”¹å†™"
    icon: "ğŸ–¼ï¸"
    color: "#52c41a"
  kf2v:
    name: "é¦–å°¾å¸§ç”Ÿè§†é¢‘"
    description: "åŸºäºé¦–å°¾å¸§å›¾åƒç”Ÿæˆè§†é¢‘ï¼Œæ”¯æŒç‰¹æ•ˆæ¨¡æ¿"
    icon: "ğŸ“¸"
    color: "#722ed1"

# éªŒè¯è§„åˆ™
validation:
  # é€šç”¨è§„åˆ™
  common:
    prompt:
      min_length: 1
      max_length_variable: "max_prompt_length"  # å¼•ç”¨æ¨¡å‹é…ç½®
    negative_prompt:
      min_length: 0
      max_length: 500
    seed:
      min: 0
      max: 2147483647
    duration:
      must_be_in: "supported_durations"  # å¼•ç”¨æ¨¡å‹é…ç½®

  # ç±»å‹ç‰¹å®šè§„åˆ™
  r2v:
    reference_videos:
      max_count: "max_reference_videos"  # å¼•ç”¨æ¨¡å‹é…ç½®
    size:
      must_be_in: "supported_sizes"  # å¼•ç”¨æ¨¡å‹é…ç½®

  i2v:
    resolution:
      must_be_in: "supported_resolutions"  # å¼•ç”¨æ¨¡å‹é…ç½®
    audio_url:
      required: false
      pattern: "^https?://.*\\.(mp3|wav|aac|ogg)$"
    template:
      required: false
      pattern: "^[a-zA-Z0-9_-]+$"

  kf2v:
    resolution:
      must_be_in: "supported_resolutions"
    first_frame:
      required: true
    last_frame:
      required: false